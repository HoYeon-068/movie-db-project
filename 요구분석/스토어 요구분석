## 상품 관리 및 카테고리 요구 사항 (PRODUCT, CATEGORY)

1. 관리자는 **상품명(PRODUCT_NM)**, **가격(PRICE)**, **설명(DESCRIPTION)**, **이미지(IMAGE_URL)**, **재고(STOCK_QTY)** 등의 정보를 필수로 입력하여 상품을 등록해야 한다.
2. 각 상품은 반드시 하나의 **카테고리(CATEGORY_ID)** 에 속해야 하며, 하나의 카테고리에는 여러 상품이 포함될 수 있다.
3. **카테고리(CATEGORY)** 는 카테고리명(CATEGORY_NM)과 설명(DESCRIPTION)을 포함해야 하며, 중복된 이름을 가질 수 없다.
4. 상품의 판매 여부는 **STATUS_CD(‘Y’ 또는 ‘N’)** 로 관리되어야 하며, ‘N’ 상태의 상품은 사용자 화면에 노출되지 않아야 한다.
5. **등록일(REG_DT)** 은 자동 기록되어야 하며, 관리자는 상품을 비활성화(판매중지) 또는 삭제할 수 있어야 한다.
6. 상품 수정 시 변경된 정보는 즉시 반영되어야 하며, **상품명 중복 등록**은 허용되지 않는다.
7. 재고(STOCK_QTY)가 0인 상품은 자동으로 ‘품절’ 상태로 변경되어야 한다.

---

## 주문 및 결제 요구 사항 (ORDER, ORDER_DETAIL)

1. 주문은 회원(MEMBER) 또는 비회원이 생성할 수 있으며, 주문 고유번호(ORDER_ID)를 기본 키로 관리해야 한다.
2. 하나의 주문에는 여러 상품이 포함될 수 있으며, 각 상품의 수량과 금액은 **ORDER_DETAIL** 엔티티에 기록되어야 한다.
3. 결제 시 총 결제 금액(TOTAL_PRICE), 결제 수단(PAYMENT_METHOD)은 필수 입력 항목이어야 한다.
4. 결제 성공 시 주문 상태(STATUS_CD)는 ‘결제완료’로, 결제 실패 시 ‘취소’로 변경되어야 한다.
5. 결제 완료 후 포인트 적립 및 쿠폰 사용 내역은 자동 반영되어야 한다.
6. 주문 취소 시 사용된 쿠폰과 포인트는 복구되어야 하며, 환불 금액은 총 결제 금액에서 쿠폰 및 포인트를 제외한 금액으로 계산되어야 한다.
7. 주문 상세(ORDER_DETAIL)는 상품 가격이 변경되더라도 결제 시점의 단가(UNIT_PRICE)를 유지해야 한다.

---

## 장바구니 요구 사항 (CART)

1. 회원은 상품을 장바구니에 담을 수 있으며, 비회원은 세션(Session) 기반 임시 장바구니로 관리되어야 한다.
2. 장바구니 항목에는 상품 ID(PRODUCT_ID), 수량(QUANTITY), 등록일(ADD_DT)이 포함되어야 한다.
3. 동일한 상품을 다시 담을 경우 기존 수량이 증가해야 하며, 중복된 레코드가 생성되어서는 안 된다.
4. 장바구니는 로그인 시 서버 DB와 동기화되어야 하며, 로그아웃 시에도 데이터는 유지되어야 한다.
5. 결제 완료 시 장바구니에 담긴 해당 항목은 자동 삭제되어야 한다.

---

## 쿠폰 관리 요구 사항 (COUPON)

1. 쿠폰은 쿠폰번호(COUPON_ID)를 기본 키로 가지며, 쿠폰명(COUPON_NM), 할인금액(DISCOUNT_PRICE), 유효기간(EXPIRATION_DT) 정보를 포함해야 한다.
2. 쿠폰은 **포인트몰**에서 교환하거나, 이벤트로 자동 발급될 수 있다.
3. 발급된 쿠폰은 회원(MEMBER_ID)과 반드시 연결되어야 하며, 타 회원에게 양도할 수 없다.
4. 쿠폰 사용 시 주문(ORDER)과 연계되어 USED_YN이 ‘Y’로 변경되어야 한다.
5. 주문이 취소될 경우 USED_YN은 자동으로 ‘N’으로 복구되어야 한다.
6. 쿠폰은 한 번의 주문에만 사용 가능하며, 복수 적용은 불가능하다.

---

## 포인트 관리 요구 사항 (POINT_HISTORY)

1. 포인트 내역은 적립과 차감이 모두 기록되어야 하며, 각 항목은 고유 식별자(POINT_ID)로 구분되어야 한다.
2. 포인트 적립 내역에는 회원 ID(MEMBER_ID), 적립금액(CHANGE_POINT), 사유(REASON), 일시(REG_DT)가 포함되어야 한다.
3. 결제 완료 시 자동으로 일정 비율(예: 5%)의 포인트가 적립되어야 하며, 비율은 관리자가 변경 가능해야 한다.
4. 포인트 사용 시, 사용된 주문(ORDER_ID)과 반드시 연계되어야 한다.
5. 포인트 환불 시 기존 내역을 참조하여 반대 금액으로 기록되어야 한다.
6. 포인트 거래 내역은 관리자 페이지에서 조회 가능해야 한다.

---

## 회원 관련 요구 사항 (MEMBER)

1. 회원은 주문, 포인트, 쿠폰, 장바구니 기능을 사용할 수 있다.
2. 회원 정보에는 MEMBER_ID, 이름(MEMBER_NM), 이메일(EMAIL), 전화번호(PHONE), 보유 포인트(POINT), 가입일(JOIN_DT), 상태(STATUS)가 포함되어야 한다.
3. 비회원 주문 시 MEMBER_ID는 NULL로 저장되어야 한다.
4. 탈퇴한 회원의 주문 내역은 유지되며, 포인트는 0으로 초기화되어야 한다.
5. 회원 정보 수정 시 본인 인증 절차를 거쳐야 한다.

---

## 시스템 및 보안 요구 사항 (SECURITY, LOG)

1. 모든 결제 및 개인정보 전송은 SSL(HTTPS)을 통해 암호화되어야 한다.
2. 포인트와 쿠폰의 트랜잭션은 하나의 단위로 묶여야 하며, 처리 실패 시 전체 롤백되어야 한다.
3. 관리자 페이지 접근은 인증된 계정만 가능하며, 모든 접근 로그는 기록되어야 한다.
4. 주요 테이블 변경(상품, 주문, 포인트 등)은 LOG 테이블에 변경 이력으로 기록되어야 한다.
5. 시스템 오류 발생 시 에러 로그를 별도 테이블에 저장하고, 관리자에게 알림이 전송되어야 한다.

---

## 확장 및 유지보수 요구 사항 (SYSTEM_EXTENSION)

1. 신규 카테고리 추가 시 DB 구조 변경 없이 CATEGORY 테이블에 데이터 추가만으로 확장 가능해야 한다.
2. 관리자 페이지에서 상품, 주문, 포인트, 쿠폰 기능을 통합 관리할 수 있어야 한다.
3. 프로모션 상품을 위한 전용 플래그 컬럼(IS_EVENT)이 필요하다.
4. 스토어 UI는 반응형으로 구성되어야 하며, 모바일 환경에서도 동일한 기능을 지원해야 한다.
